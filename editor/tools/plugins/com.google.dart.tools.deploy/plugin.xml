<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run
               class="com.google.dart.tools.deploy.DartIDEApplication">
         </run>
      </application>
   </extension>

   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="menu:file?after=new.ext">
         <command
               commandId="com.google.dart.tools.ui.file.new"
               icon="$nl$/icons/full/etool16/newfile_wiz.gif"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="menu:file?after=open.ext">
         <command 
               commandId="com.google.dart.tools.ui.folder.open"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:org.eclipse.ui.trim.command2">
         <toolbar
               id="editor.toolbar">
            <control
               class="com.google.dart.tools.deploy.DartEditorToolbarControlContribution">
            </control>
         </toolbar>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.run?after=breakpointGroup">
         <command
               commandId="com.google.dart.tools.debug.ui.run.selection"
               icon="icons/full/obj16/run_exc.gif"
               label="%runCommandName"
               style="push"
               tooltip="%runDescription">
         </command>
         <command
               commandId="com.google.dart.tools.debug.ui.run.last.launch"
               label="Always Run Last Launch"
               style="toggle">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.run?after=emptyLaunchGroup">
         <command commandId="com.google.dart.tools.debug.ui.launchDialog" />
         <!-- TODO(devoncarew): enable this once the command-line debugger works remotely -->
         <!-- command commandId="com.google.dart.tools.debug.ui.remoteConnection" / -->
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.run?after=runGroup">
         <command
               commandId="com.google.dart.tools.debug.ui.removeBreakpoints"
               style="push"
               icon="icons/full/obj16/rem_all_brk.gif">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
     <key
            commandId="org.eclipse.ui.file.properties"
            sequence="M3+CR"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration" />
     <key
            commandId="org.eclipse.ui.file.properties"
            platform="cocoa"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration"
            sequence="M1+I"/>
     <key
            commandId="org.eclipse.ui.file.properties"
            platform="carbon"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration"
            sequence="M1+I"/>
      <key
            commandId="com.google.dart.tools.ui.folder.open"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration"
            sequence="M1+O">
      </key>
      <key
            commandId="com.google.dart.tools.ui.omnibox"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration"
            sequence="M1+3">
      </key>
      <key
            commandId="com.google.dart.tools.debug.ui.run.selection"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration"
            sequence="M1+R">
      </key>
      <key
            commandId="com.google.dart.tools.ui.generateJavascript"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration"
            sequence="M1+M2+G">
      </key>
      <key
            commandId="com.google.dart.tools.debug.ui.launchDialog"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration"
            sequence="M1+SHIFT+M">
      </key>
      <key
            commandId="org.eclipse.ui.file.refresh"
            sequence="F5"
            schemeId="com.google.dart.tools.dartAcceleratorConfiguration">
      </key>      
   </extension>
   
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="com.google.dart.tools.deploy.application"
            name="Dart Editor">
         <property
               name="windowImages"
               value="icons/dart_16_16.gif,icons/dart_32_32.gif,icons/dart_48_48.gif,icons/dart_64_64.gif,icons/dart_128_128.gif">
         </property>
         <property
               name="aboutText"
               value="An awesome editor for Dart programming.">
         </property>
         <property
               name="aboutImage"
               value="icons/dart_116_116.gif">
         </property>
         <property
               name="appName"
               value="Dart Editor">
         </property>
         <property
               name="startupProgressRect"
               value="40,350,368,15">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>
         <property
               name="startupForegroundColor"
               value="B3B3B3">
         </property>
         <property
               name="startupMessageRect"
               value="40,330,368,15">
         </property>
      </product>
   </extension>
   
   <extension
         point="org.eclipse.ui.activities">
      <activity
            description="Dart Development Activities"
            id="com.google.dart.development"
            name="Dart Development">
      </activity>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern=".*org\.eclipse\.debug\.ui\.contextualLaunch\.run\.submenu.*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern=".*org\.eclipse\.debug\.ui\.contextualLaunch\.debug\.submenu.*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*convertLineDelimiters">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*toggleShowWhitespaceCharacters">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*toggleBlockSelectionMode">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org.eclipse.search/org.eclipse.search.OpenSearchDialog">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*externaltools.*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*delimiter.*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*restartWorkbench">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*cheatsheets.*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*update.*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\.equinox\.p2\.ui\..*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org.eclipse.team.*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*openLocalFile">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*toggleInsertMode">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*showInformation">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*.helpContents">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*.helpSearch">
      </activityPatternBinding>
      <!-- contributed by org.eclipse.ui.workbench -->
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\.ui\.edit\.findIncremental.*">
      </activityPatternBinding>
      <!-- contributed by org.eclipse.ui.workbench -->
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\.ui\.edit\.text\.gotoLastEditPosition">
      </activityPatternBinding>
      <!-- Added by BasicTextEditorActionContributor -->
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\.ui\.edit\.text\.hippieCompletion">
      </activityPatternBinding>
      <!-- Get rid of default "Open Resource" action -->
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\.ui\..*OpenWorkspaceFile.*">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\.ui\.navigate\.next">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\.ui\.navigate\.previous">
      </activityPatternBinding>
      <!-- Get rid of "org.eclipse.compare" actions -->
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\.compare.*">
      </activityPatternBinding>
      
      <!-- Run/debug property pages -->
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org\.eclipse\..*defaultLaunchConfigurations">
      </activityPatternBinding>

      <!-- internal web browser contributions -->
      <activityPatternBinding
            activityId="com.google.dart.development"
            pattern="org.eclipse.ui.browser/org.eclipse.ui.browser.edito.*">
      </activityPatternBinding>
   </extension>
   
   <!-- Launch and Debug contributions -->
   
   <extension
         point="org.eclipse.ui.activities">
      <activity
            description="Dart Launch Activities"
            id="com.google.dart.development.launch"
            name="Dart Launch Activities">
      </activity>

      <activityPatternBinding
            activityId="com.google.dart.development.launch"
            pattern="org.eclipse.debug.ui/org.eclipse.debug.ui.actions.ToggleStepFilters">
      </activityPatternBinding>
      <activityPatternBinding
            activityId="com.google.dart.development.launch"
            pattern="org.eclipse.debug.ui/org.eclipse.debug.ui.actions.RunToLine">
      </activityPatternBinding>
    </extension>

    <extension
         point="org.eclipse.core.contenttype.contentTypes">
      <file-association
            content-type="org.eclipse.core.runtime.text"
            file-extensions="css,js,json,map,md,py,yaml">
      </file-association>      
   </extension>
   
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            name="%dart.perspective.name"
            icon="$nl$/icons/full/eview16/dperspective.png"
            class="com.google.dart.tools.ui.DartPerspective"
            id="com.google.dart.tools.ui.DartPerspective">
         <description>
            %dart.perspective.description
         </description>
      </perspective>    
   </extension>
      
   <extension
          point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            category="com.google.dart.tools.ui.dart"
            class="com.google.dart.tools.ui.internal.filesview.FilesView"
            icon="icons/full/obj16/file_folder.gif"
            id="com.google.dart.tools.ui.FileExplorer"
            name="Files"
            restorable="true">
      </view>
      <view
             allowMultiple="true"
             category="com.google.dart.tools.ui.dart"
             class="com.google.dart.tools.ui.console.DartConsoleView"
             icon="icons/full/eview16/console_view.gif"
             id="com.google.dart.tools.ui.console"
             name="Output"
             restorable="false">
      </view>
      <view
            name="%problemsViewName"
            category="com.google.dart.tools.ui.dart"
            class="com.google.dart.tools.ui.internal.problemsview.ProblemsView"
            icon="icons/full/eview16/problems_view.gif"
            id="com.google.dart.tools.ui.ProblemsView">
      </view>    
      <view
            class="com.google.dart.tools.debug.ui.internal.view.DebuggerView"
            id="com.google.dart.tools.debug.debuggerView"
            name="Debugger"
            restorable="true"
            category="com.google.dart.tools.ui.dart"
            icon="icons/full/obj16/debug_exc.gif">
      </view>
      <view
            class="com.google.dart.tools.debug.ui.internal.view.BreakpointsView"
            id="com.google.dart.tools.debug.breakpointsView"
            name="Breakpoints"
            restorable="true"
            category="com.google.dart.tools.ui.dart"
            icon="icons/full/obj16/breakpoint_view.gif">
      </view>
   </extension>


   <extension point="org.eclipse.debug.ui.contextViewBindings">
      <contextViewBinding
            viewId="com.google.dart.tools.debug.debuggerView"
            contextId="org.eclipse.debug.ui.debugging">
      </contextViewBinding>
      <contextViewBinding
           viewId="com.google.dart.tools.debug.breakpointsView"
           contextId="org.eclipse.debug.ui.debugging">
      </contextViewBinding>
   </extension>
   
   <extension
         point="org.eclipse.ui.commands">
      <command
            categoryId="org.eclipse.ui.category.window"
            defaultHandler="com.google.dart.tools.ui.omni.OmniBoxHandler"
            description="%command.omnibox.description"
            id="com.google.dart.tools.ui.omnibox"
            name="%command.omnibox.name"/> 
   </extension>
   
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="%analysisPrefName"
            class="com.google.dart.tools.ui.internal.preferences.DartAnalysisPreferencePage"
            id="com.google.dart.tools.ui.preferences.DartAnalysisPreferencePage">
      </page>
      <page
            name="%dartPrefName"
            class="com.google.dart.tools.ui.internal.preferences.DartBasePreferencePage"
            id="com.google.dart.tools.ui.preferences.DartBasePreferencePage">
      </page>
      <page
            class="com.google.dart.tools.ui.internal.preferences.FontPreferencePage"
            id="com.google.dart.tools.ui.fontOptionsPage"
            name="%dartFontsPrefName">
      </page>
      <page
            name="%dartKeysPrefName"
            class="com.google.dart.tools.ui.internal.preferences.DartKeyBindingPreferencePage"
            id="com.google.dart.tools.ui.preferences.DartKeyBindingPreferencePage">
      </page>
      <page
            name="%debugPrefPageName"
            class="com.google.dart.tools.debug.ui.internal.preferences.DebugPreferencePage"
            id="com.google.dart.tools.debug.debugPreferencePage">
      </page>
      <page
            class="com.google.dart.tools.ui.update.UpdatePreferencePage"
            id="com.google.dart.tools.ui.update.updatePreferencePage"
            name="%updatePrefPageName">
      </page>
   </extension>

   <extension
         point="org.eclipse.ui.presentationFactories">
      <factory
            class="com.google.dart.tools.ui.presentation.DartEditorPresentationFactory"
            id="com.google.dart.tools.ui.presentation"
            name="Dart Editor Presentation">
      </factory>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="com.google.dart.tools.ui.internal.text.editor.SimpleTextEditor"
            contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor"
            default="true"
            icon="$nl$/icons/full/obj16/file_obj.gif"
            id="com.google.dart.tools.ui.text.editor.TextEditor"
            name="%TextFileEditorName"
            symbolicFontName="com.google.dart.tools.ui.editors.textfont">
            <contentTypeBinding contentTypeId="org.eclipse.core.runtime.text" />
      </editor>
      <editor
            class="com.google.dart.tools.ui.internal.intro.IntroEditor"
            default="false"
            icon="icons/dart_16_16.gif"
            id="com.google.dart.tools.ui.intro.editor"
            name="Welcome">
      </editor>
   </extension>

   <extension-point id="com.google.dart.tools.ui.theme.mapper" name="Editor Mapping" schema="schema/com.google.dart.tools.ui.theme.mapper.exsd"/>
   <extension-point id="com.google.dart.tools.ui.theme.theme" name="Color Theme" schema="schema/com.google.dart.tools.ui.theme.theme.exsd"/>

   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="com.google.dart.tools.ui.theme.preferences.ThemePreferencePage"
            id="com.google.dart.tools.ui.theme.preferences.ThemePreferencePage"
            name="Visual Theme">
      </page>
   </extension>

   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="com.google.dart.tools.ui.theme.preferences.PreferenceInitializer">
      </initializer>
   </extension>

   <extension
         point="com.google.dart.tools.ui.theme.mapper">
      <mapper
            class="com.google.dart.tools.ui.theme.mapper.TextEditorMapper"
            name="Dart"
            pluginId="com.google.dart.tools.ui"
            xml="mappings/com.google.dart.tools.ui.xml">
      </mapper>
      <mapper
            class="com.google.dart.tools.ui.theme.mapper.GenericMapper"
            name="Java"
            pluginId="org.eclipse.jdt.ui"
            xml="mappings/org.eclipse.jdt.ui.xml">
      </mapper>
      <mapper
            class="com.google.dart.tools.ui.theme.mapper.TextEditorMapper"
            name="Text"
            pluginId="org.eclipse.ui.editors"
            xml="mappings/org.eclipse.ui.editors.xml">
      </mapper>
      <mapper
            class="com.google.dart.tools.ui.theme.mapper.TextEditorMapper"
            name="Debug"
            pluginId="org.eclipse.debug.ui"
            xml="mappings/org.eclipse.debug.ui.xml">
      </mapper>
      <mapper
            class="com.google.dart.tools.ui.theme.mapper.WebEditorMapper"
            name="CSS"
            pluginId="org.eclipse.wst.css.ui"
            xml="mappings/org.eclipse.wst.css.ui.xml">
      </mapper>
      <mapper
            class="com.google.dart.tools.ui.theme.mapper.WebEditorMapper"
            name="HTML"
            pluginId="org.eclipse.wst.html.ui"
            xml="mappings/org.eclipse.wst.html.ui.xml">
      </mapper>
      <mapper
            class="com.google.dart.tools.ui.theme.mapper.GenericMapper"
            name="JavaScript"
            pluginId="org.eclipse.wst.jsdt.ui"
            xml="mappings/org.eclipse.wst.jsdt.ui.xml">
      </mapper>
      <mapper
            class="com.google.dart.tools.ui.theme.mapper.WebEditorMapper"
            name="XML"
            pluginId="org.eclipse.wst.xml.ui"
            xml="mappings/org.eclipse.wst.xml.ui.xml">
      </mapper>
   </extension>

   <extension
         point="com.google.dart.tools.ui.theme.theme">
      <theme
            file="themes/black-pastel.xml">
      </theme>
      <theme
            file="themes/frontenddev.xml">
      </theme>
      <theme
            file="themes/gedit-original-oblivion.xml">
      </theme>
      <theme
            file="themes/havenjark.xml">
      </theme>
      <theme
            file="themes/inkpot.xml">
      </theme>
      <theme
            file="themes/minimal.xml">
      </theme>
      <theme
            file="themes/mr.xml">
      </theme>
      <theme
            file="themes/nightlion-aptana-theme.xml">
      </theme>
      <theme
            file="themes/notepad++-like.xml">
      </theme>
      <theme
            file="themes/oblivion.xml">
      </theme>
      <theme
            file="themes/obsidian.xml">
      </theme>
      <theme
            file="themes/pastel.xml">
      </theme>
      <theme
            file="themes/recogneyes.xml">
      </theme>
      <theme
            file="themes/schuss.xml">
      </theme>
      <theme
            file="themes/sublime-text-2.xml">
      </theme>
      <theme
            file="themes/tango.xml">
      </theme>
      <theme
            file="themes/vibrantink.xml">
      </theme>
      <theme
            file="themes/wombat.xml">
      </theme>
      <theme
            file="themes/zenburn.xml">
      </theme>
      <theme
            file="themes/monokai.xml">
      </theme>
      <theme
            file="themes/roboticket.xml">
      </theme>
      <theme
            file="themes/sunburst.xml">
      </theme>
      <theme
            file="themes/retta.xml">
      </theme>
      <theme
            file="themes/dartboard.xml">
      </theme>
      <theme
            file="themes/default.xml">
      </theme>
      <theme
            file="themes/hotpink.xml">
      </theme>
      <theme
            file="themes/debugging.xml">
      </theme>
   </extension>

   <extension point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="com.google.dart.tools.ui.DartPerspective">
         <actionSet id="org.eclipse.debug.ui.debugActionSet"/>
         <actionSet id="com.google.dart.tools.debug.ui.breakpointActionSet"/>
      </perspectiveExtension>
   </extension>
   
</plugin>
